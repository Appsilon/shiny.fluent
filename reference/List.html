<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>List — List • shiny.fluent</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="List — List" />
<meta property="og:description" content="A list provides a base component for rendering large sets of items. It’s agnostic of layout, the tile component used, and selection management.
For more details and examples visit the official docs.
The R package can not handle each and every case, so for advanced use cases
you need to work using the original docs to achieve the desired result." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DL2H66RTY1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DL2H66RTY1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shiny.fluent</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/shiny-fluent.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/st-sales-reps-dashboard.html">Tutorial: Full dashboard UI in Shiny and Fluent</a>
    </li>
    <li>
      <a href="../articles/sz-how-to-shiny-modules.html">How to: use shiny.fluent with Shiny modules</a>
    </li>
    <li>
      <a href="../articles/sz-how-to-troubleshoot.html">How to: troubleshoot shiny.react apps</a>
    </li>
    <li>
      <a href="../articles/sz-how-to-use-fluent-docs.html">Topic guide: Using Fluent components documentation</a>
    </li>
    <li>
      <a href="../articles/topic_embedding-react-in-shiny.html">Topic guide: withReact and reactOutput - what's the difference?</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/appsilon/shiny.fluent/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>List</h1>
    <small class="dont-index">Source: <a href='https://github.com/appsilon/shiny.fluent/blob/master/R/components.R'><code>R/components.R</code></a>, <a href='https://github.com/appsilon/shiny.fluent/blob/master/R/documentation.R'><code>R/documentation.R</code></a>, <a href='https://github.com/appsilon/shiny.fluent/blob/master/R/examples.R'><code>R/examples.R</code></a></small>
    <div class="hidden name"><code>List.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A list provides a base component for rendering large sets of items. It’s agnostic of layout, the tile component used, and selection management.</p>
<p>For more details and examples visit the official <a href='https://developer.microsoft.com/en-us/fluentui#/controls/web/List'>docs</a>.
The R package can not handle each and every case, so for advanced use cases
you need to work using the original docs to achieve the desired result.</p>
    </div>

    <pre class="usage"><span class='fu'>List</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>rootRef</th>
      <td><p><code>React.Ref&lt;HTMLDivElement&gt;</code> <br /> The ref to be applied to the list root. The <code>List</code> uses this element to track scroll position and sizing.</p></td>
    </tr>
    <tr>
      <th>surfaceElement</th>
      <td><p><code>JSX.Element | null</code> <br /> The content to be rendered as the list surface element. This will have been rendered using <code>onRenderSurface</code>.</p></td>
    </tr>
    <tr>
      <th>divProps</th>
      <td><p><code>React.HTMLAttributes&lt;HTMLDivElement&gt;</code> <br /> Props to apply to the list surface element.</p></td>
    </tr>
    <tr>
      <th>pageElements</th>
      <td><p><code>JSX.Element[]</code> <br /> The content to be rendered representing all active pages.</p></td>
    </tr>
    <tr>
      <th>pages</th>
      <td><p><code>IPage&lt;T&gt;[]</code> <br /> The active pages to be rendered into the list. These will have been rendered using <code>onRenderPage</code>.</p></td>
    </tr>
    <tr>
      <th>surfaceRef</th>
      <td><p><code>React.Ref&lt;HTMLDivElement&gt;</code> <br /> A ref to be applied to the surface element. The <code>List</code> uses this element to track content size and focus.</p></td>
    </tr>
    <tr>
      <th>className</th>
      <td><p><code>string</code> <br /> Optional classname to append to root list.</p></td>
    </tr>
    <tr>
      <th>componentRef</th>
      <td><p><code>IRefObject&lt;IList&gt;</code> <br /> Optional callback to access the IList interface. Use this instead of ref for accessing the public methods and properties of the component.</p></td>
    </tr>
    <tr>
      <th>getItemCountForPage</th>
      <td><p><code>(itemIndex?: number, visibleRect?: IRectangle) =&gt; number</code> <br /> Method called by the list to get how many items to render per page from specified index. In general, use <code>getPageSpecification</code> instead.</p></td>
    </tr>
    <tr>
      <th>getKey</th>
      <td><p><code>(item: T, index?: number) =&gt; string</code> <br /> Optional callback to get the item key, to be used on render.</p></td>
    </tr>
    <tr>
      <th>getPageHeight</th>
      <td><p><code>(itemIndex?: number, visibleRect?: IRectangle, itemCount?: number) =&gt; number</code> <br /> Method called by the list to get the pixel height for a given page. By default, we measure the first page's height and default all other pages to that height when calculating the surface space. It is ideal to be able to adequately predict page heights in order to keep the surface space from jumping in pixels, which has been seen to cause browser performance issues. In general, use <code>getPageSpecification</code> instead.</p></td>
    </tr>
    <tr>
      <th>getPageSpecification</th>
      <td><p><code>(itemIndex?: number, visibleRect?: IRectangle) =&gt; IPageSpecification</code> <br /> Called by the list to get the specification for a page. Use this method to provide an allocation of items per page, as well as an estimated rendered height for the page. The list will use this to optimize virtualization.</p></td>
    </tr>
    <tr>
      <th>getPageStyle</th>
      <td><p><code>(page: IPage&lt;T&gt;) =&gt; any</code> <br /> Method called by the list to derive the page style object. For spacer pages, the list will derive the height and passed in heights will be ignored.</p></td>
    </tr>
    <tr>
      <th>ignoreScrollingState</th>
      <td><p><code>boolean</code> <br /> Whether to disable scroll state updates. This causes the isScrolling arg in onRenderCell to always be undefined. This is a performance optimization to let List skip a render cycle by not updating its scrolling state.</p></td>
    </tr>
    <tr>
      <th>items</th>
      <td><p><code>T[]</code> <br /> Items to render.</p></td>
    </tr>
    <tr>
      <th>onPageAdded</th>
      <td><p><code>(page: IPage&lt;T&gt;) =&gt; void</code> <br /> Optional callback for monitoring when a page is added.</p></td>
    </tr>
    <tr>
      <th>onPageRemoved</th>
      <td><p><code>(page: IPage&lt;T&gt;) =&gt; void</code> <br /> Optional callback for monitoring when a page is removed.</p></td>
    </tr>
    <tr>
      <th>onPagesUpdated</th>
      <td><p><code>(pages: IPage&lt;T&gt;[]) =&gt; void</code> <br /> Optional callback invoked when List rendering completed. This can be on initial mount or on re-render due to scrolling. This method will be called as a result of changes in List pages (added or removed), and after ALL the changes complete. To track individual page Add / Remove use onPageAdded / onPageRemoved instead.</p></td>
    </tr>
    <tr>
      <th>onRenderCell</th>
      <td><p><code>(item?: T, index?: number, isScrolling?: boolean) =&gt; React.ReactNode</code> <br /> Method to call when trying to render an item.</p></td>
    </tr>
    <tr>
      <th>onRenderPage</th>
      <td><p><code>IRenderFunction&lt;IPageProps&lt;T&gt;&gt;</code> <br /> Called when the List will render a page. Override this to control how cells are rendered within a page.</p></td>
    </tr>
    <tr>
      <th>onRenderRoot</th>
      <td><p><code>IRenderFunction&lt;IListOnRenderRootProps&lt;T&gt;&gt;</code> <br /> Render override for the element at the root of the <code>List</code>. Use this to apply some final attributes or structure to the content each time the list is updated with new active pages or items.</p></td>
    </tr>
    <tr>
      <th>onRenderSurface</th>
      <td><p><code>IRenderFunction&lt;IListOnRenderSurfaceProps&lt;T&gt;&gt;</code> <br /> Render override for the element representing the surface of the <code>List</code>. Use this to alter the structure of the rendered content if necessary on each update.</p></td>
    </tr>
    <tr>
      <th>onShouldVirtualize</th>
      <td><p><code>(props: IListProps&lt;T&gt;) =&gt; boolean</code> <br /> Optional callback to determine whether the list should be rendered in full, or virtualized. Virtualization will add and remove pages of items as the user scrolls them into the visible range. This benefits larger list scenarios by reducing the DOM on the screen, but can negatively affect performance for smaller lists. The default implementation will virtualize when this callback is not provided.</p></td>
    </tr>
    <tr>
      <th>renderCount</th>
      <td><p><code>number</code> <br /> Number of items to render. Defaults to items.length.</p></td>
    </tr>
    <tr>
      <th>renderedWindowsAhead</th>
      <td><p><code>number</code> <br /> In addition to the visible window, how many windowHeights should we render ahead.</p></td>
    </tr>
    <tr>
      <th>renderedWindowsBehind</th>
      <td><p><code>number</code> <br /> In addition to the visible window, how many windowHeights should we render behind.</p></td>
    </tr>
    <tr>
      <th>startIndex</th>
      <td><p><code>number</code> <br /> Index in items array to start rendering from. Defaults to 0.</p></td>
    </tr>
    <tr>
      <th>usePageCache</th>
      <td><p><code>boolean</code> <br /> Boolean value to enable render page caching. This is an experimental performance optimization that is off by default.</p></td>
    </tr>
    <tr>
      <th>version</th>
      <td><p><code>{}</code> <br /> An object which can be passed in as a fresh instance to 'force update' the list.</p></td>
    </tr>
    <tr>
      <th>page</th>
      <td><p><code>IPage&lt;T&gt;</code> <br /> The allocation data for the page.</p></td>
    </tr>
    <tr>
      <th>role</th>
      <td><p><code>string</code> <br /> The role being assigned to the rendered page element by the list.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="best-practices"><a class="anchor" href="#best-practices"></a>Best practices</h2>

    
<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Layout</h3>

<ul>
<li><p>List items are composed of selection, icon, and name columns at minimum. You can include other columns, such as date modified, or any other metadata field associated with the collection.</p></li>
<li><p>Avoid using file type icon overlays to denote status of a file as it can make the entire icon unclear.</p></li>
<li><p>If there are multiple lines of text in a column, consider the variable row height variant.</p></li>
<li><p>Give columns ample default width to display information.</p></li>
</ul>


<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>Content</h3>

<ul>
<li><p>Use sentence-style capitalization—only capitalize the first word. For more info, see <a href='https://docs.microsoft.com/style-guide/capitalization'>Capitalization</a> in the Microsoft Writing Style Guide.</p></li>
</ul>


<h3 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>FAQ</h3>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>My scrollable content isn't updating on scroll, what should I do?</h4>


<p>Add the data-is-scrollable="true" attribute to your scrollable element containing the List.</p>
<p>By default, the List will use the &lt;body&gt; element as the scrollable element. If you contain List within a scrollable &lt;div&gt; using overflow: auto or scroll, List needs to listen for scroll events on that element instead. On initialization, List will traverse up the DOM looking for the first element with the data-is-scrollable attribute to know which element to listen to for knowing when to re-evaulate the visible window.</p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>My list isn't re-rendering when I mutate its items, what should I do?</h4>


<p>To determine if List should re-render its contents, the component performs a referential equality check on the items array in its shouldComponentUpdate method. This is done to minimize the performance overhead associating with re-rendering the virtualized list pages, as recommended by the React documentation.
As a result of this implementation, List will not determine it should re-render if values within the array are mutated. To avoid this problem, we recommend re-creating the items array using a method such as Array.prototype.concat or ES6 spread syntax shown below:</p><pre>public appendItems(): void {
  const { items } = this.state;

  this.setState({
    items: [...items, ...[{ name: 'Foo' }, { name: 'Bar' }]]
  })
}

public render(): JSX.Element {
  const { items } = this.state;

  return &lt;List items={items} /&gt;;
}
</pre>

<p>Since the items array has been re-created, the list will conclude that its contents have changed and it should re-render the new values.</p>

<h4 class='hasAnchor' id='arguments'><a class='anchor' href='#arguments'></a>How do I limit rendering to improve performance?</h4>


<p>Performance is important, and DOM content is expensive. Therefore, limit what you render. The list component applies this principle by using UI virtualization. Unlike a simple for loop that renders all items in a set, a list only renders a subset of items, and as you scroll around, the subset of rendered content is shifted. This gives a much better experience for large sets, especially when the per-item components are complex/render-intensive/network-intensive.</p>
<p>A list breaks down the set of items passed in into pages. Only pages within a "materialized window" are actually rendered. As that window changes due to scroll events, pages that fall outside that window are removed, and their layout space is remembered and pushed into spacer elements. This gives the user the experience of browsing massive amounts of content but only using a small number of actual elements. This gives the browser much less layout to resolve, and gives React DOM diffing much less content to worry about.</p>
<p>Note: If onRenderCell is not provided in IListProps, the list will attempt to render the name property for each object in the items array.</p>




    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://appsilon.github.io/shiny.fluent'>shiny.fluent</a></span><span class='op'>)</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>items</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/do.call.html'>do.call</a></span><span class='op'>(</span><span class='va'>paste0</span>, <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>replicate</a></span><span class='op'>(</span><span class='fl'>20</span>, <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>LETTERS</span>, <span class='fl'>200</span>, <span class='cn'>TRUE</span><span class='op'>)</span>, <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'>shinyApp</span><span class='op'>(</span>
    ui <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/shiny.react/man/withReact.html'>withReact</a></span><span class='op'>(</span>
      <span class='fu'>div</span><span class='op'>(</span>
        style <span class='op'>=</span> <span class='st'>"overflow: auto; max-height: 400px"</span>,
        <span class='fu'>List</span><span class='op'>(</span>
          items <span class='op'>=</span> <span class='va'>items</span>,
          onRenderCell <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/htmlwidgets/man/JS.html'>JS</a></span><span class='op'>(</span><span class='st'>"(item, index) =&gt; `${index} ${item}`"</span><span class='op'>)</span>
        <span class='op'>)</span>
      <span class='op'>)</span>
    <span class='op'>)</span>,
    server <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>input</span>, <span class='va'>output</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='op'>}</span>
  <span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marek Rogala, Kamil Zyla.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


