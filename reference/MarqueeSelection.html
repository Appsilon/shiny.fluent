<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The MarqueeSelection component provides a service which allows the user to drag a rectangle to be drawn around
items to select them. This works in conjunction with a selection object, which can be used to generically store selection state, separate from a component that consumes the state.
MarqueeSelection also works in conjunction with the AutoScroll utility to automatically scroll the container when we drag a rectangle within the vicinity of the edges.
When a selection rectangle is dragged, we look for elements with the data-selection-index attribute populated. We get these elements' boundingClientRects and compare them with the root's rect to determine selection state. We update the selection state appropriately.
In virtualization cases where items that were once selected are dematerialized, we will keep the item in its
previous state until we know definitively if it's on/off. (In other words, this works with List.)
For more details and examples visit the official docs.
The R package cannot handle each and every case, so for advanced use cases
you need to work using the original docs to achieve the desired result."><title>MarqueeSelection — MarqueeSelection • shiny.fluent</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="MarqueeSelection — MarqueeSelection"><meta property="og:description" content="The MarqueeSelection component provides a service which allows the user to drag a rectangle to be drawn around
items to select them. This works in conjunction with a selection object, which can be used to generically store selection state, separate from a component that consumes the state.
MarqueeSelection also works in conjunction with the AutoScroll utility to automatically scroll the container when we drag a rectangle within the vicinity of the edges.
When a selection rectangle is dragged, we look for elements with the data-selection-index attribute populated. We get these elements' boundingClientRects and compare them with the root's rect to determine selection state. We update the selection state appropriately.
In virtualization cases where items that were once selected are dematerialized, we will keep the item in its
previous state until we know definitively if it's on/off. (In other words, this works with List.)
For more details and examples visit the official docs.
The R package cannot handle each and every case, so for advanced use cases
you need to work using the original docs to achieve the desired result."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-DL2H66RTY1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DL2H66RTY1');
</script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FQQZL5V93G"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FQQZL5V93G');
</script><script async defer src="https://buttons.github.io/buttons.js"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">shiny.fluent</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>

    <a href="https://shiny.tools/#shiny-fluent" class="external-link home"><i class="fa fa-lg fa-chevron-left"></i></a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/shiny-fluent.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/st-sales-reps-dashboard.html">Tutorial: Full dashboard UI in Shiny and Fluent</a>
    <a class="dropdown-item" href="../articles/st-shiny-fluent-and-rhino.html">Tutorial: Build a Rhino application using shiny.fluent</a>
    <a class="dropdown-item" href="../articles/sz-how-to-shiny-modules.html">How to: use shiny.fluent with Shiny modules</a>
    <a class="dropdown-item" href="../articles/sz-how-to-troubleshoot.html">How to: troubleshoot shiny.react apps</a>
    <a class="dropdown-item" href="../articles/sz-how-to-use-fluent-docs.html">Topic guide: Using Fluent components documentation</a>
    <a class="dropdown-item" href="../articles/topic_react-in-shiny.html">Topic guide: React in Shiny</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Appsilon/shiny.fluent">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/Appsilon">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://fosstodon.org/@appsilon">
    <span class="fab fa fab fa-mastodon fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>MarqueeSelection</h1>
      <small class="dont-index">Source: <a href="https://github.com/appsilon/shiny.fluent/blob/HEAD/R/components.R" class="external-link"><code>R/components.R</code></a>, <a href="https://github.com/appsilon/shiny.fluent/blob/HEAD/R/documentation.R" class="external-link"><code>R/documentation.R</code></a>, <a href="https://github.com/appsilon/shiny.fluent/blob/HEAD/R/examples.R" class="external-link"><code>R/examples.R</code></a></small>
      <div class="d-none name"><code>MarqueeSelection.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The MarqueeSelection component provides a service which allows the user to drag a rectangle to be drawn around
items to select them. This works in conjunction with a selection object, which can be used to generically store selection state, separate from a component that consumes the state.</p>
<p>MarqueeSelection also works in conjunction with the AutoScroll utility to automatically scroll the container when we drag a rectangle within the vicinity of the edges.</p>
<p>When a selection rectangle is dragged, we look for elements with the <strong>data-selection-index</strong> attribute populated. We get these elements' boundingClientRects and compare them with the root's rect to determine selection state. We update the selection state appropriately.</p>
<p>In virtualization cases where items that were once selected are dematerialized, we will keep the item in its
previous state until we know definitively if it's on/off. (In other words, this works with List.)</p>
<p>For more details and examples visit the <a href="https://developer.microsoft.com/en-us/fluentui#/controls/web/MarqueeSelection" class="external-link">official docs</a>.
The R package cannot handle each and every case, so for advanced use cases
you need to work using the original docs to achieve the desired result.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">MarqueeSelection</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>Props to pass to the component.
The allowed props are listed below in the <b>Details</b> section.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Object with <code>shiny.tag</code> class suitable for use in the UI of a Shiny app.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    
<ul><li><p><b> className </b> <code>string</code> <br> Additional CSS class(es) to apply to the MarqueeSelection.</p></li>
<li><p><b> componentRef </b> <code>IRefObject&lt;IMarqueeSelection&gt;</code> <br> Optional callback to access the IMarqueeSelection interface. Use this instead of ref for accessing the public methods and properties of the component.</p></li>
<li><p><b> isDraggingConstrainedToRoot </b> <code>boolean</code> <br> Optional flag to restrict the drag rect to the root element, instead of allowing the drag rect to start outside of the root element boundaries.</p></li>
<li><p><b> isEnabled </b> <code>boolean</code> <br> Optional flag to control the enabled state of marquee selection. This allows you to render it and have events all ready to go, but conditionally disable it. That way transitioning between enabled/disabled generate no difference in the DOM.</p></li>
<li><p><b> onShouldStartSelection </b> <code>(ev: MouseEvent) =&gt; boolean</code> <br> Optional callback that is called, when the mouse down event occurs, in order to determine if we should start a marquee selection. If true is returned, we will cancel the mousedown event to prevent upstream mousedown handlers from executing.</p></li>
<li><p><b> rootProps </b> <code>React.HTMLAttributes&lt;HTMLDivElement&gt;</code> <br> Optional props to mix into the root DIV element.</p></li>
<li><p><b> selection </b> <code>ISelection</code> <br> The selection object to interact with when updating selection changes.</p></li>
<li><p><b> styles </b> <code>IStyleFunction&lt;IMarqueeSelectionStyleProps, IMarqueeSelectionStyles&gt;</code> <br> Call to provide customized styling that will layer on top of the variant rules.</p></li>
<li><p><b> theme </b> <code>ITheme</code> <br> Theme (provided through customization.)</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.posit.co/" class="external-link">shiny</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://appsilon.github.io/shiny.fluent/">shiny.fluent</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is an advanced demo showing how you can use virtually all features of Fluent UI</span></span></span>
<span class="r-in"><span><span class="co"># by creating custom components in JS and rendering them with shiny.react.</span></span></span>
<span class="r-in"><span><span class="co"># This example is a translation of the example in</span></span></span>
<span class="r-in"><span><span class="co"># https://developer.microsoft.com/en-us/fluentui#/controls/web/marqueeselection.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Script showing how to:</span></span></span>
<span class="r-in"><span><span class="co"># 1. Use mergeStyles and themes from Fluent</span></span></span>
<span class="r-in"><span><span class="co"># 2. Define custom components</span></span></span>
<span class="r-in"><span><span class="co"># 3. Send results back to Shiny.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">customComponent</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">name</span>, <span class="va">js</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">dependency</span> <span class="op">&lt;-</span> <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/htmlDependency.html" class="external-link">htmlDependency</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="va">name</span>,</span></span>
<span class="r-in"><span>    version <span class="op">=</span> <span class="st">"0"</span>, <span class="co"># Not used.</span></span></span>
<span class="r-in"><span>    src <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>href <span class="op">=</span> <span class="st">""</span><span class="op">)</span>, <span class="co"># Not used.</span></span></span>
<span class="r-in"><span>    head <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">      &lt;script&gt;</span></span></span>
<span class="r-in"><span><span class="st">        (jsmodule.CustomComponents ??= {})."</span>, <span class="va">name</span>, <span class="st">" = (() =&gt; {"</span>, <span class="va">js</span>, <span class="st">"})();</span></span></span>
<span class="r-in"><span><span class="st">      &lt;/script&gt;</span></span></span>
<span class="r-in"><span><span class="st">    "</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="fu">shiny.react</span><span class="fu">::</span><span class="fu"><a href="https://appsilon.github.io/shiny.react/reference/reactElement.html" class="external-link">reactElement</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    module <span class="op">=</span> <span class="st">"CustomComponents"</span>,</span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="va">name</span>,</span></span>
<span class="r-in"><span>    props <span class="op">=</span> <span class="fu">shiny.react</span><span class="fu">::</span><span class="fu"><a href="https://appsilon.github.io/shiny.react/reference/asProps.html" class="external-link">asProps</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    deps <span class="op">=</span> <span class="va">dependency</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">MarqueeSelectionExample</span> <span class="op">&lt;-</span> <span class="fu">customComponent</span><span class="op">(</span><span class="st">"MarqueeSelectionExample"</span>, <span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">  const React = jsmodule['react'];</span></span></span>
<span class="r-in"><span><span class="st">  const Fluent = jsmodule['@fluentui/react'];</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  const theme = Fluent.getTheme();</span></span></span>
<span class="r-in"><span><span class="st">  const styles = Fluent.mergeStyleSets({</span></span></span>
<span class="r-in"><span><span class="st">    photoList: {</span></span></span>
<span class="r-in"><span><span class="st">      display: 'inline-block',</span></span></span>
<span class="r-in"><span><span class="st">      border: '1px solid ' + theme.palette.neutralTertiary,</span></span></span>
<span class="r-in"><span><span class="st">      margin: 0,</span></span></span>
<span class="r-in"><span><span class="st">      padding: 10,</span></span></span>
<span class="r-in"><span><span class="st">      overflow: 'hidden',</span></span></span>
<span class="r-in"><span><span class="st">      userSelect: 'none',</span></span></span>
<span class="r-in"><span><span class="st">    },</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">    photoCell: {</span></span></span>
<span class="r-in"><span><span class="st">      position: 'relative',</span></span></span>
<span class="r-in"><span><span class="st">      display: 'inline-block',</span></span></span>
<span class="r-in"><span><span class="st">      margin: 2,</span></span></span>
<span class="r-in"><span><span class="st">      boxSizing: 'border-box',</span></span></span>
<span class="r-in"><span><span class="st">      background: theme.palette.neutralLighter,</span></span></span>
<span class="r-in"><span><span class="st">      lineHeight: 100,</span></span></span>
<span class="r-in"><span><span class="st">      verticalAlign: 'middle',</span></span></span>
<span class="r-in"><span><span class="st">      textAlign: 'center',</span></span></span>
<span class="r-in"><span><span class="st">      selectors: {</span></span></span>
<span class="r-in"><span><span class="st">        '&amp;.is-selected': {</span></span></span>
<span class="r-in"><span><span class="st">          background: theme.palette.themeLighter,</span></span></span>
<span class="r-in"><span><span class="st">          border: '1px solid ' + theme.palette.themePrimary,</span></span></span>
<span class="r-in"><span><span class="st">        },</span></span></span>
<span class="r-in"><span><span class="st">      },</span></span></span>
<span class="r-in"><span><span class="st">    },</span></span></span>
<span class="r-in"><span><span class="st">    checkbox: {</span></span></span>
<span class="r-in"><span><span class="st">      margin: '10px 0',</span></span></span>
<span class="r-in"><span><span class="st">    },</span></span></span>
<span class="r-in"><span><span class="st">  });</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  const useForceUpdate = () =&gt; {</span></span></span>
<span class="r-in"><span><span class="st">    const [, setIt] = React.useState(false);</span></span></span>
<span class="r-in"><span><span class="st">    return () =&gt; setIt(it =&gt; !it);</span></span></span>
<span class="r-in"><span><span class="st">  };</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  return function(params) {</span></span></span>
<span class="r-in"><span><span class="st">    const forceUpdate = useForceUpdate();</span></span></span>
<span class="r-in"><span><span class="st">    const inputId = params['inputId'];</span></span></span>
<span class="r-in"><span><span class="st">    const photos = params['photos'];</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">    if (window.selection === undefined) {</span></span></span>
<span class="r-in"><span><span class="st">      window.selection = new Fluent.Selection({</span></span></span>
<span class="r-in"><span><span class="st">        items: photos,</span></span></span>
<span class="r-in"><span><span class="st">        onSelectionChanged: function() {</span></span></span>
<span class="r-in"><span><span class="st">          Shiny.setInputValue(inputId, window.selection.getSelectedIndices());</span></span></span>
<span class="r-in"><span><span class="st">          forceUpdate();</span></span></span>
<span class="r-in"><span><span class="st">        }</span></span></span>
<span class="r-in"><span><span class="st">      });</span></span></span>
<span class="r-in"><span><span class="st">    }</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">    const items = photos.map((photo, index) =&gt; {</span></span></span>
<span class="r-in"><span><span class="st">      return React.createElement(</span></span></span>
<span class="r-in"><span><span class="st">        'div',</span></span></span>
<span class="r-in"><span><span class="st">        {</span></span></span>
<span class="r-in"><span><span class="st">          key: index,</span></span></span>
<span class="r-in"><span><span class="st">          'data-is-focusable': true,</span></span></span>
<span class="r-in"><span><span class="st">          className: Fluent.css(</span></span></span>
<span class="r-in"><span><span class="st">            styles.photoCell,</span></span></span>
<span class="r-in"><span><span class="st">            window.selection.isIndexSelected(index) &amp;&amp; 'is-selected'</span></span></span>
<span class="r-in"><span><span class="st">          ),</span></span></span>
<span class="r-in"><span><span class="st">          'data-selection-index': index,</span></span></span>
<span class="r-in"><span><span class="st">          style: { width: photo.width, height: photo.height }</span></span></span>
<span class="r-in"><span><span class="st">        },</span></span></span>
<span class="r-in"><span><span class="st">        index</span></span></span>
<span class="r-in"><span><span class="st">      );</span></span></span>
<span class="r-in"><span><span class="st">    });</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">    return React.createElement(</span></span></span>
<span class="r-in"><span><span class="st">      Fluent.MarqueeSelection,</span></span></span>
<span class="r-in"><span><span class="st">      { selection: window.selection, isEnabled: true },</span></span></span>
<span class="r-in"><span><span class="st">      React.createElement('ul', { className: styles.photoList }, items)</span></span></span>
<span class="r-in"><span><span class="st">    );</span></span></span>
<span class="r-in"><span><span class="st">  };</span></span></span>
<span class="r-in"><span><span class="st">"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"marqueeResult"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="Label.html">Label</a></span><span class="op">(</span><span class="st">"Drag a rectangle around the items below to select them"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://appsilon.github.io/shiny.react/reference/reactOutput.html" class="external-link">reactOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"marqueeSelection"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="va">ns</span> <span class="op">&lt;-</span> <span class="va">session</span><span class="op">$</span><span class="va">ns</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="va">photos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="kw">function</span><span class="op">(</span><span class="va">index</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="va">randomWidth</span> <span class="op">&lt;-</span> <span class="fl">50</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span><span class="fl">150</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        key <span class="op">=</span> <span class="va">index</span>,</span></span>
<span class="r-in"><span>        url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">'http://placehold.it/'</span>, <span class="va">randomWidth</span>, <span class="st">'x100'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        width <span class="op">=</span> <span class="va">randomWidth</span>,</span></span>
<span class="r-in"><span>        height <span class="op">=</span> <span class="fl">100</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="va">output</span><span class="op">$</span><span class="va">marqueeResult</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"You have selected: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selectedIndices</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>    <span class="va">output</span><span class="op">$</span><span class="va">marqueeSelection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://appsilon.github.io/shiny.react/reference/renderReact.html" class="external-link">renderReact</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="fu">MarqueeSelectionExample</span><span class="op">(</span></span></span>
<span class="r-in"><span>        inputId <span class="op">=</span> <span class="fu">ns</span><span class="op">(</span><span class="st">"selectedIndices"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        photos <span class="op">=</span> <span class="va">photos</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="fu">ui</span><span class="op">(</span><span class="st">"app"</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="fu">server</span><span class="op">(</span><span class="st">"app"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed with <span class="emoji" data-emoji="heart">❤️</span> by <a href="https://appsilon.com" class="external-link">Appsilon</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer></div>

  

  

  </body></html>

