<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Selection — Selection • shiny.fluent</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Selection — Selection"><meta property="og:description" content="Selection is a store that maintains the selection state of items in an efficient way.
It exposes methods for accessing the selection state given an item index.
If the items change, it can resolve the selection if items move in the array.
See https://developer.microsoft.com/en-us/fluentui#/controls/web/selection for details."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-DL2H66RTY1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DL2H66RTY1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shiny.fluent</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/shiny-fluent.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/st-sales-reps-dashboard.html">Tutorial: Full dashboard UI in Shiny and Fluent</a>
    </li>
    <li>
      <a href="../articles/sz-how-to-shiny-modules.html">How to: use shiny.fluent with Shiny modules</a>
    </li>
    <li>
      <a href="../articles/sz-how-to-troubleshoot.html">How to: troubleshoot shiny.react apps</a>
    </li>
    <li>
      <a href="../articles/sz-how-to-use-fluent-docs.html">Topic guide: Using Fluent components documentation</a>
    </li>
    <li>
      <a href="../articles/topic_react-in-shiny.html">Topic guide: React in Shiny</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/appsilon/shiny.fluent/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Selection</h1>
    <small class="dont-index">Source: <a href="https://github.com/appsilon/shiny.fluent/blob/HEAD/R/examples.R" class="external-link"><code>R/examples.R</code></a></small>
    <div class="hidden name"><code>Selection.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Selection is a store that maintains the selection state of items in an efficient way.
It exposes methods for accessing the selection state given an item index.
If the items change, it can resolve the selection if items move in the array.
See https://developer.microsoft.com/en-us/fluentui#/controls/web/selection for details.</p>
    </div>



    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://appsilon.github.io/shiny.fluent" class="external-link">shiny.fluent</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is an advanced demo showing how you can use virtually all features of Fluent UI</span></span></span>
<span class="r-in"><span><span class="co"># by creating custom components in JS and rendering them with shiny.react.</span></span></span>
<span class="r-in"><span><span class="co"># This example is a translation of the example in</span></span></span>
<span class="r-in"><span><span class="co"># https://developer.microsoft.com/en-us/fluentui#/controls/web/marqueeselection.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Script showing how to:</span></span></span>
<span class="r-in"><span><span class="co"># 1. Use mergeStyles and themes from Fluent</span></span></span>
<span class="r-in"><span><span class="co"># 2. Define custom components</span></span></span>
<span class="r-in"><span><span class="co"># 3. Send results back to Shiny.</span></span></span>
<span class="r-in"><span><span class="va">script</span> <span class="op">&lt;-</span> <span class="va">tags</span><span class="op">$</span><span class="fu">script</span><span class="op">(</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">HTML</a></span><span class="op">(</span><span class="st">"</span></span></span>
<span class="r-in"><span><span class="st">const React = jsmodule['react'];</span></span></span>
<span class="r-in"><span><span class="st">const Fluent = jsmodule['@fluentui/react'];</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">const theme = Fluent.getTheme();</span></span></span>
<span class="r-in"><span><span class="st">const styles = Fluent.mergeStyleSets({</span></span></span>
<span class="r-in"><span><span class="st">  photoList: {</span></span></span>
<span class="r-in"><span><span class="st">    display: 'inline-block',</span></span></span>
<span class="r-in"><span><span class="st">    border: '1px solid ' + theme.palette.neutralTertiary,</span></span></span>
<span class="r-in"><span><span class="st">    margin: 0,</span></span></span>
<span class="r-in"><span><span class="st">    padding: 10,</span></span></span>
<span class="r-in"><span><span class="st">    overflow: 'hidden',</span></span></span>
<span class="r-in"><span><span class="st">    userSelect: 'none',</span></span></span>
<span class="r-in"><span><span class="st">  },</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  photoCell: {</span></span></span>
<span class="r-in"><span><span class="st">    position: 'relative',</span></span></span>
<span class="r-in"><span><span class="st">    display: 'inline-block',</span></span></span>
<span class="r-in"><span><span class="st">    margin: 2,</span></span></span>
<span class="r-in"><span><span class="st">    boxSizing: 'border-box',</span></span></span>
<span class="r-in"><span><span class="st">    background: theme.palette.neutralLighter,</span></span></span>
<span class="r-in"><span><span class="st">    lineHeight: 100,</span></span></span>
<span class="r-in"><span><span class="st">    verticalAlign: 'middle',</span></span></span>
<span class="r-in"><span><span class="st">    textAlign: 'center',</span></span></span>
<span class="r-in"><span><span class="st">    selectors: {</span></span></span>
<span class="r-in"><span><span class="st">      '&amp;.is-selected': {</span></span></span>
<span class="r-in"><span><span class="st">        background: theme.palette.themeLighter,</span></span></span>
<span class="r-in"><span><span class="st">        border: '1px solid ' + theme.palette.themePrimary,</span></span></span>
<span class="r-in"><span><span class="st">      },</span></span></span>
<span class="r-in"><span><span class="st">    },</span></span></span>
<span class="r-in"><span><span class="st">  },</span></span></span>
<span class="r-in"><span><span class="st">  checkbox: {</span></span></span>
<span class="r-in"><span><span class="st">    margin: '10px 0',</span></span></span>
<span class="r-in"><span><span class="st">  },</span></span></span>
<span class="r-in"><span><span class="st">});</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">const useForceUpdate = () =&gt; {</span></span></span>
<span class="r-in"><span><span class="st">  const [, setIt] = React.useState(false);</span></span></span>
<span class="r-in"><span><span class="st">  return () =&gt; setIt(it =&gt; !it);</span></span></span>
<span class="r-in"><span><span class="st">};</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">jsmodule.exampleApp = {}</span></span></span>
<span class="r-in"><span><span class="st">jsmodule.exampleApp.MarqueeSelectionExample = function(params) {</span></span></span>
<span class="r-in"><span><span class="st">  const forceUpdate = useForceUpdate();</span></span></span>
<span class="r-in"><span><span class="st">  const name = params['name'];</span></span></span>
<span class="r-in"><span><span class="st">  const photos = params['photos'];</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  if(window.selection === undefined) {</span></span></span>
<span class="r-in"><span><span class="st">    window.selection = new Fluent.Selection({</span></span></span>
<span class="r-in"><span><span class="st">      items: photos,</span></span></span>
<span class="r-in"><span><span class="st">      onSelectionChanged: function() {</span></span></span>
<span class="r-in"><span><span class="st">        Shiny.setInputValue(name, window.selection.getSelectedIndices());</span></span></span>
<span class="r-in"><span><span class="st">        forceUpdate();</span></span></span>
<span class="r-in"><span><span class="st">      }</span></span></span>
<span class="r-in"><span><span class="st">    });</span></span></span>
<span class="r-in"><span><span class="st">  }</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  const items = photos.map((photo, index) =&gt; {</span></span></span>
<span class="r-in"><span><span class="st">    return React.createElement('div',</span></span></span>
<span class="r-in"><span><span class="st">      {</span></span></span>
<span class="r-in"><span><span class="st">        key: index,</span></span></span>
<span class="r-in"><span><span class="st">        'data-is-focusable': true,</span></span></span>
<span class="r-in"><span><span class="st">        className: Fluent.css(</span></span></span>
<span class="r-in"><span><span class="st">          styles.photoCell,</span></span></span>
<span class="r-in"><span><span class="st">          window.selection.isIndexSelected(index) &amp;&amp; 'is-selected'</span></span></span>
<span class="r-in"><span><span class="st">        ),</span></span></span>
<span class="r-in"><span><span class="st">        'data-selection-index': index,</span></span></span>
<span class="r-in"><span><span class="st">        style: { width: photo.width, height: photo.height }</span></span></span>
<span class="r-in"><span><span class="st">      }, index)</span></span></span>
<span class="r-in"><span><span class="st">    });</span></span></span>
<span class="r-in"><span><span class="st"></span></span></span>
<span class="r-in"><span><span class="st">  return React.createElement(</span></span></span>
<span class="r-in"><span><span class="st">    Fluent.MarqueeSelection,</span></span></span>
<span class="r-in"><span><span class="st">    { selection: window.selection, isEnabled: true },</span></span></span>
<span class="r-in"><span><span class="st">    React.createElement('ul', { className: styles.photoList }, items)</span></span></span>
<span class="r-in"><span><span class="st">  );</span></span></span>
<span class="r-in"><span><span class="st">};</span></span></span>
<span class="r-in"><span><span class="st">"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">MarqueeSelectionExample</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">...</span><span class="op">)</span> <span class="fu">shiny.react</span><span class="fu">::</span><span class="fu"><a href="https://appsilon.github.io/shiny.react/reference/reactElement.html" class="external-link">reactElement</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    module <span class="op">=</span> <span class="st">"exampleApp"</span>, name <span class="op">=</span> <span class="st">"MarqueeSelectionExample"</span>,</span></span>
<span class="r-in"><span>    props <span class="op">=</span> <span class="fu">shiny.react</span><span class="fu">::</span><span class="fu"><a href="https://appsilon.github.io/shiny.react/reference/asProps.html" class="external-link">asProps</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    ui <span class="op">=</span> <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/tagList.html" class="external-link">tagList</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="va">script</span>,</span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="st">"marqueeResult"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="fu"><a href="Label.html">Label</a></span><span class="op">(</span><span class="st">"Drag a rectangle around the items below to select them"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://appsilon.github.io/shiny.react/reference/reactOutput.html" class="external-link">reactOutput</a></span><span class="op">(</span><span class="st">"marqueeSelection"</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="va">photos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="kw">function</span><span class="op">(</span><span class="va">index</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="va">randomWidth</span> <span class="op">&lt;-</span> <span class="fl">50</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample.int</a></span><span class="op">(</span><span class="fl">150</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          key <span class="op">=</span> <span class="va">index</span>,</span></span>
<span class="r-in"><span>          url <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">'http://placehold.it/'</span>, <span class="va">randomWidth</span>, <span class="st">'x100'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          width <span class="op">=</span> <span class="va">randomWidth</span>,</span></span>
<span class="r-in"><span>          height <span class="op">=</span> <span class="fl">100</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>      <span class="va">output</span><span class="op">$</span><span class="va">marqueeResult</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"You have selected: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selectedIndices</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>      <span class="va">output</span><span class="op">$</span><span class="va">marqueeSelection</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://appsilon.github.io/shiny.react/reference/renderReact.html" class="external-link">renderReact</a></span><span class="op">(</span><span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="fu">MarqueeSelectionExample</span><span class="op">(</span></span></span>
<span class="r-in"><span>          name <span class="op">=</span> <span class="st">"selectedIndices"</span>,</span></span>
<span class="r-in"><span>          photos <span class="op">=</span> <span class="va">photos</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Marek Rogala, Kamil Zyla, Developers Appsilon.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

