<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="shiny.fluent">
<title>Tutorial: Build a Rhino application using shiny.fluent • shiny.fluent</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Tutorial: Build a Rhino application using shiny.fluent">
<meta property="og:description" content="shiny.fluent">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-DL2H66RTY1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DL2H66RTY1');
</script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-FQQZL5V93G"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FQQZL5V93G');
</script><script async defer src="https://buttons.github.io/buttons.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">shiny.fluent</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>

    <a href="https://shiny.tools/#shiny-fluent" class="external-link home"><i class="fa fa-lg fa-chevron-left"></i></a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/shiny-fluent.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/st-sales-reps-dashboard.html">Tutorial: Full dashboard UI in Shiny and Fluent</a>
    <a class="dropdown-item" href="../articles/st-shiny-fluent-and-rhino.html">Tutorial: Build a Rhino application using shiny.fluent</a>
    <a class="dropdown-item" href="../articles/sz-how-to-shiny-modules.html">How to: use shiny.fluent with Shiny modules</a>
    <a class="dropdown-item" href="../articles/sz-how-to-troubleshoot.html">How to: troubleshoot shiny.react apps</a>
    <a class="dropdown-item" href="../articles/sz-how-to-use-fluent-docs.html">Topic guide: Using Fluent components documentation</a>
    <a class="dropdown-item" href="../articles/topic_react-in-shiny.html">Topic guide: React in Shiny</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Appsilon/shiny.fluent">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/Appsilon">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://fosstodon.org/@appsilon">
    <span class="fab fa fab fa-mastodon fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="st-shiny-fluent-and-rhino_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Tutorial: Build a Rhino application using shiny.fluent</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/appsilon/shiny.fluent/blob/HEAD/vignettes/st-shiny-fluent-and-rhino.Rmd" class="external-link"><code>vignettes/st-shiny-fluent-and-rhino.Rmd</code></a></small>
      <div class="d-none name"><code>st-shiny-fluent-and-rhino.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="hello-world-with-rhino-and-shiny-fluent">Hello World with <code>rhino</code> and <code>shiny.fluent</code><a class="anchor" aria-label="anchor" href="#hello-world-with-rhino-and-shiny-fluent"></a>
</h2>
<div class="section level3">
<h3 id="getting-started-with-our-development-environment">Getting started with our development environment<a class="anchor" aria-label="anchor" href="#getting-started-with-our-development-environment"></a>
</h3>
<p>Let us first install and create our <code>rhino</code> project structure.</p>
<p>To install <code>rhino</code>, please run the following in the R console:</p>
<pre><code><span><span class="co"># In R console</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"rhino"</span><span class="op">)</span></span></code></pre>
<p>Now, initialize a new rhino application. You can do it either by using RStudio Wizard or a function <code>rhino::init()</code>.</p>
<p>More details on how to create a Rhino app can be found in the <a href="https://appsilon.github.io/rhino/articles/tutorial/create-your-first-rhino-app.html#create-an-initial-application" class="external-link">Rhino tutorial</a>.</p>
<p>You will notice that the working directory now has a proper folder structure along with some other files.</p>
<p>Rhino relies on the <a href="https://rstudio.github.io/renv/index.html" class="external-link"><code>renv</code> package</a> for dependency management. To add the <code>shiny.fluent</code> package to our project, first, we need to install it.</p>
<p>Additionally, we will be also using the <code>dplyr</code>, <code>ggplot2</code>, <code>plotly</code> and <code>tibble</code> package for this application. To save us time in the tutorial we will install them all here. Please note that for every new package you add, you will need to install them, add them to <code>dependencies.R</code>, and run <a href="https://rstudio.github.io/renv/reference/snapshot.html" class="external-link"><code>renv::snapshot()</code></a> to update the <code>renv.lock</code> file.</p>
<pre><code><span><span class="co"># In R console</span></span>
<span><span class="fu">renv</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/renv/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dplyr"</span>, <span class="st">"ggplot2"</span>, <span class="st">"plotly"</span>, <span class="st">"shiny.fluent"</span>, <span class="st">"tibble"</span><span class="op">)</span><span class="op">)</span></span></code></pre>
<p>Now that the packages are installed, head over to the <code>dependencies.R</code> file and add <code>shiny.fluent</code> to it along with the others as shown below.</p>
<pre><code><span><span class="co"># dependencies.R</span></span>
<span></span>
<span><span class="co"># This file allows packrat (used by rsconnect during deployment) to pick up dependencies.</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com" class="external-link">plotly</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://appsilon.github.io/rhino/" class="external-link">rhino</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://appsilon.github.io/shiny.fluent/">shiny.fluent</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span></span></code></pre>
<p>Upon saving the modified file, please take a snapshot of the dependencies so that the <code>renv.lock</code> file is updated.</p>
<pre><code><span><span class="co"># In R console</span></span>
<span><span class="fu">renv</span><span class="fu">::</span><span class="fu">snaphot</span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>If you now check the <code>renv.lock</code> file, you will see it is updated with the <code>shiny.fluent</code> and other packages.</p>
</div>
<div class="section level3">
<h3 id="our-first-development-on-the-app">Our first development on the app<a class="anchor" aria-label="anchor" href="#our-first-development-on-the-app"></a>
</h3>
<p>Upon viewing the default <code>app/main.R</code> file, you will notice that the code does not have any usage of <code>shiny.fluent</code> package to generate the UI. So, let us introduce <code>shiny.fluent</code> and use it in our code to generate some text!</p>
<pre><code><span><span class="co"># app/main.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">moduleServer</span>, <span class="va">NS</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">fluentPage</span>, <span class="va">Text</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/fluentPage.html">fluentPage</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"Sales Data Dashboard"</span>, variant <span class="op">=</span> <span class="st">"xxLarge"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>The above code uses <a href="https://appsilon.github.io/shiny.fluent/reference/fluentPage.html"><code>fluentPage</code></a> and <a href="https://appsilon.github.io/shiny.fluent/reference/Text.html"><code>Text</code></a> from <code>shiny.fluent</code> package to render the UI and the sentence - “Sales Data Dashboard”. You will also notice the <a href="https://shiny.rstudio.com/reference/shiny/latest/ns" class="external-link"><code>NS(id)</code></a> used in the code to return a namespace function, which has been saved as <code>ns</code> and will be invoked later in the shiny module.</p>
<p>Now when you run the app, you should be seeing this -</p>
<p><img src="images/rhino_fluent_1.png" width="256"></p>
<p>Note: If you check the built-in testcases once changes are introduced, running <code>rhino::test_r()</code> will give you errors. To avoid failed GitHub Actions for now (in case you are pushing your code to GitHub), you may empty the test cases present in <code>tests/testthat/test-main.R</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="show-data-in-a-table-via-a-rhino-module">Show Data in a Table via a <code>rhino</code> module<a class="anchor" aria-label="anchor" href="#show-data-in-a-table-via-a-rhino-module"></a>
</h2>
<p>So, in this section, we will introduce a table to our application that displays random imaginary sales deals. The dataset comes from the <code>shiny.fluent</code> package itself - <a href="https://appsilon.github.io/shiny.fluent/reference/fluentSalesDeals.html">fluentSalesDeals</a>.</p>
<div class="section level3">
<h3 id="creating-the-module">Creating the module<a class="anchor" aria-label="anchor" href="#creating-the-module"></a>
</h3>
<p>In the <code>app/view/</code> folder, let us create a new file and name it <code>datatable.R</code></p>
<p>This <code>app/view/datatable.R</code> file will be used to display the data table on the UI and we will call this module in the <code>app/main.R</code> file once done. Here is the code</p>
<pre><code><span><span class="co"># app/view/datatable.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">div</span>, <span class="va">moduleServer</span>, <span class="va">NS</span>, <span class="va">renderUI</span>, <span class="va">uiOutput</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">DetailsList</span>, <span class="va">Text</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"A randomly generated dataset of imaginary sales deals"</span>, variant <span class="op">=</span> <span class="st">"large"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html" class="external-link">uiOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"datatable"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">datatable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderUI.html" class="external-link">renderUI</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="co"># Datasets are the only case when you need to use :: in `box`.</span></span>
<span>      <span class="co"># This issue should be solved in the next `box` release.</span></span>
<span>      <span class="fu"><a href="../reference/DetailsList.html">DetailsList</a></span><span class="op">(</span>items <span class="op">=</span> <span class="fu">shiny.fluent</span><span class="fu">::</span><span class="va"><a href="../reference/fluentSalesDeals.html">fluentSalesDeals</a></span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p><code>fluentSalesDeals</code> is a dataset available with the <code>shiny.fluent</code> package and to use it, we use <code>::</code> for directly fetching the dataset from the library. Datasets are the only case when you need to use <code>::</code> in <code>box</code>.</p>
<p>So, here we are using <a href="https://appsilon.github.io/shiny.fluent/reference/DetailsList.html"><code>DetailsList</code></a> function in the server side to render the table on the UI.</p>
</div>
<div class="section level3">
<h3 id="calling-the-module">Calling the module<a class="anchor" aria-label="anchor" href="#calling-the-module"></a>
</h3>
<p>Our shiny module <code>app/view/datatable.R</code> is ready, but unless we call it in the <code>app/main.R</code> file, we won’t see any changes on the app. Let us thus go to <code>app/main.R</code> file and edit it with the following code -</p>
<pre><code><span><span class="co"># app/main.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">moduleServer</span>, <span class="va">NS</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">fluentPage</span>, <span class="va">Text</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">app</span><span class="op">/</span><span class="va">view</span><span class="op">/</span><span class="va">datatable</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/fluentPage.html">fluentPage</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"Sales Data Dashboard"</span>, variant <span class="op">=</span> <span class="st">"xxLarge"</span><span class="op">)</span>,</span>
<span>    <span class="va">datatable</span><span class="op">$</span><span class="fu">ui</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"datatable"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">datatable</span><span class="op">$</span><span class="fu">server</span><span class="op">(</span><span class="st">"datatable"</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>This code in the <code>app/main.R</code> file is based the concept of <a href="https://shiny.rstudio.com/articles/modules.html" class="external-link">Shiny modules</a> where <a href="https://appsilon.github.io/rhino/articles/explanation/box-modules.html" class="external-link">box modules in rhino</a> are used.</p>
<p>Notice here that we have called the <code>datatable</code> module by importing it to our main application file first. It is now, that the <code>main</code> module will be able to use exported functions from <code>app/view/datatable.R</code> module.</p>
<p>Now run the app. You should be seeing something like this -</p>
<p><img src="images/rhino_fluent_2.png" width="958"></p>
</div>
<div class="section level3">
<h3 id="show-informative-columns-with-meaningful-names">Show informative columns with meaningful names<a class="anchor" aria-label="anchor" href="#show-informative-columns-with-meaningful-names"></a>
</h3>
<p>We will no more display all the columns that come with the dataset. Instead, we will display the <code>"rep_name", "date", "deal_amount", "city", "is_closed"</code> columns.</p>
<p>But for that we need to make the names more readable. So, we will assign proper names for every fields using the <code>tibble</code> package.</p>
<pre><code><span><span class="va">columns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  fieldName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rep_name"</span>, <span class="st">"date"</span>, <span class="st">"deal_amount"</span>, <span class="st">"city"</span>, <span class="st">"is_closed"</span><span class="op">)</span>,</span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sales Rep"</span>, <span class="st">"Date"</span>, <span class="st">"Deal Amount"</span>, <span class="st">"City"</span>, <span class="st">"Is Closed?"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
<p>Also, we need to mention in the <code><a href="../reference/DetailsList.html">DetailsList()</a></code> function to only display the names we just assigned in the <code>columns</code> object. Here is how the code gets modified -</p>
<pre><code><span><span class="co"># app/view/datatable.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">div</span>, <span class="va">moduleServer</span>, <span class="va">NS</span>, <span class="va">renderUI</span>, <span class="va">uiOutput</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">DetailsList</span>, <span class="va">Text</span><span class="op">]</span>,</span>
<span>  <span class="va">tibble</span><span class="op">[</span><span class="va">tibble</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">columns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  fieldName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rep_name"</span>, <span class="st">"date"</span>, <span class="st">"deal_amount"</span>, <span class="st">"city"</span>, <span class="st">"is_closed"</span><span class="op">)</span>,</span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sales Rep"</span>, <span class="st">"Date"</span>, <span class="st">"Deal Amount"</span>, <span class="st">"City"</span>, <span class="st">"Is Closed?"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"A randomly generated dataset of imaginary sales deals"</span>, variant <span class="op">=</span> <span class="st">"large"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html" class="external-link">uiOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"datatable"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">datatable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderUI.html" class="external-link">renderUI</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="co"># Datasets are the only case when you need to use :: in `box`.</span></span>
<span>      <span class="co"># This issue should be solved in the next `box` release.</span></span>
<span>      <span class="fu"><a href="../reference/DetailsList.html">DetailsList</a></span><span class="op">(</span>items <span class="op">=</span> <span class="fu">shiny.fluent</span><span class="fu">::</span><span class="va"><a href="../reference/fluentSalesDeals.html">fluentSalesDeals</a></span>, columns <span class="op">=</span> <span class="va">columns</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>Remember to include <code>tibble</code> inside <code>box::use()</code>, else the code will not be able to use the package. Upon running the app with all these changes, you should see the improved table -</p>
<p><img src="images/rhino_fluent_3.png" width="956"></p>
</div>
</div>
<div class="section level2">
<h2 id="add-a-simple-toggle-input-feature-for-the-table-with-basic-styling">Add a simple toggle input feature for the table with basic styling<a class="anchor" aria-label="anchor" href="#add-a-simple-toggle-input-feature-for-the-table-with-basic-styling"></a>
</h2>
<p>Till now, we could only view table with all the data it has. We will now add a functionality to view those rows in the table where value of the “Is Closed?” column is 1 by default and provide a toggle to the user to also include results where the value is 0. The “Is Closed?” column basically indicates whether the deal is closed or not with values 0 and 1 where 0 means False/No and 1 means True/Yes.</p>
<p>We will make use of the <code>dplyr</code> package now. We will use <a href="https://appsilon.github.io/shiny.fluent/reference/Toggle.html"><code>Toggle.shinyInput</code></a> from <code>shiny.fluent</code> package which represents a physical switch that allows someone to choose between two mutually exclusive options. For example,“On/Off”,“Show/Hide”. Choosing an option should produce an immediate result.</p>
<p>In the UI, we include the code for showing the toggle for input - <code>Toggle.shinyInput(ns("includeOpen"), label = "Include open deals"),</code> and work on the input provided inside the server section</p>
<p>So, the <code>app/view/datatable.R</code> file now is modified to -</p>
<pre><code><span><span class="co"># app/view/datatable.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">dplyr</span><span class="op">[</span><span class="va">filter</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">div</span>, <span class="va">moduleServer</span>, <span class="va">NS</span>, <span class="va">reactive</span>, <span class="va">renderUI</span>, <span class="va">uiOutput</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">DetailsList</span>, <span class="va">Text</span>, <span class="va">Toggle.shinyInput</span><span class="op">]</span>,</span>
<span>  <span class="va">tibble</span><span class="op">[</span><span class="va">tibble</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">columns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  fieldName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rep_name"</span>, <span class="st">"date"</span>, <span class="st">"deal_amount"</span>, <span class="st">"city"</span>, <span class="st">"is_closed"</span><span class="op">)</span>,</span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sales Rep"</span>, <span class="st">"Date"</span>, <span class="st">"Deal Amount"</span>, <span class="st">"City"</span>, <span class="st">"Is Closed?"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"A randomly generated dataset of imaginary sales deals"</span>, variant <span class="op">=</span> <span class="st">"large"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span></span>
<span>      class <span class="op">=</span> <span class="st">"ms-depth-4"</span>,</span>
<span>      <span class="fu"><a href="../reference/Toggle.html">Toggle.shinyInput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"includeOpen"</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Include open deals"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html" class="external-link">uiOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"datatable"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">filtered_deals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="co"># Datasets are the only case when you need to use :: in `box`.</span></span>
<span>      <span class="co"># This issue should be solved in the next `box` release.</span></span>
<span>      <span class="fu">shiny.fluent</span><span class="fu">::</span><span class="va"><a href="../reference/fluentSalesDeals.html">fluentSalesDeals</a></span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="va">is_closed</span> <span class="op">|</span> <span class="va">input</span><span class="op">$</span><span class="va">includeOpen</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">datatable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderUI.html" class="external-link">renderUI</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/DetailsList.html">DetailsList</a></span><span class="op">(</span>items <span class="op">=</span> <span class="fu">filtered_deals</span><span class="op">(</span><span class="op">)</span>, columns <span class="op">=</span> <span class="va">columns</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>This code is being used to determine whether open deals (i.e. deals that have not been closed) should be included in the filtered data or not. The <code>|</code> symbol between the two conditions is the logical OR operator, which means that the <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> function will return all rows where either <code>is_closed</code> is TRUE or <code>input$includeOpen</code> is TRUE.</p>
<p>Also, please notice that we have added an additional style to the class <code>ms-depth-4</code> in the <code>app/style/main.scss</code> file. <a href="https://developer.microsoft.com/en-us/fluentui#/styles/web/elevation" class="external-link"><code>ms-depth-X</code></a> classes are a part of Microsoft’s Fluent UI and provide elevation (depth) to components.</p>
<p>Here is the <code>app/style/main.scss</code> file now -</p>
<pre><code>// app/style/main.scss

.ms-depth-4 {
    display: flex;
    flex-wrap: wrap;
    padding: 5px;
}</code></pre>
<p>If you try running the application right now, you will not see any changes. That is because rhino uses minified <code>app/static/app.min.css</code> for styling. To use it, you will need to build it using the rhino function -</p>
<pre><code><span><span class="co"># in R console</span></span>
<span><span class="fu">rhino</span><span class="fu">::</span><span class="fu">build_sass</span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>Please refer to <a href="https://appsilon.github.io/rhino/articles/tutorial/create-your-first-rhino-app.html#add-custom-styles" class="external-link">rhino documentation</a> for more details on styling.</p>
<p>So, this is how the app looks and works now!</p>
<p><img src="images/rhino_fluent_gif_1.gif"><!-- --></p>
</div>
<div class="section level2">
<h2 id="improve-visuals-and-layout-for-the-table-with-elevated-cards">Improve visuals and layout for the table with elevated cards<a class="anchor" aria-label="anchor" href="#improve-visuals-and-layout-for-the-table-with-elevated-cards"></a>
</h2>
<p>We can create cards with elevations just like in Fluent UI <a href="https://developer.microsoft.com/en-us/fluentui#/styles/web/elevation" class="external-link">documentation</a>, as we partially covered it above. For creating cards, we can use <a href="https://appsilon.github.io/shiny.fluent/reference/Stack.html"><code>Stack</code></a> from <code>shiny.fluent</code>.</p>
<p>We will also style the data table area. The following code does the following -</p>
<ul>
<li>Confines the height and width of the table area.</li>
<li>Creates an elevated card around the data table area.</li>
</ul>
<pre><code><span><span class="co"># app/view/datatable.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">dplyr</span><span class="op">[</span><span class="va">filter</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">div</span>, <span class="va">moduleServer</span>, <span class="va">NS</span>, <span class="va">reactive</span>, <span class="va">renderUI</span>, <span class="va">span</span>, <span class="va">uiOutput</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">DetailsList</span>, <span class="va">Stack</span>, <span class="va">Text</span>, <span class="va">Toggle.shinyInput</span><span class="op">]</span>,</span>
<span>  <span class="va">tibble</span><span class="op">[</span><span class="va">tibble</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">columns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  fieldName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rep_name"</span>, <span class="st">"date"</span>, <span class="st">"deal_amount"</span>, <span class="st">"city"</span>, <span class="st">"is_closed"</span><span class="op">)</span>,</span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sales Rep"</span>, <span class="st">"Date"</span>, <span class="st">"Deal Amount"</span>, <span class="st">"City"</span>, <span class="st">"Is Closed?"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"A randomly generated dataset of imaginary sales deals"</span>, variant <span class="op">=</span> <span class="st">"large"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span></span>
<span>      class <span class="op">=</span> <span class="st">"ms-depth-4"</span>,</span>
<span>      <span class="fu"><a href="../reference/Toggle.html">Toggle.shinyInput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"includeOpen"</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Include open deals"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/Stack.html">Stack</a></span><span class="op">(</span></span>
<span>      horizontal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      tokens <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>padding <span class="op">=</span> <span class="fl">20</span>, childrenGap <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">span</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ms-depth-8"</span>, <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html" class="external-link">uiOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"datatable"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">filtered_deals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="co"># Datasets are the only case when you need to use :: in `box`.</span></span>
<span>      <span class="co"># This issue should be solved in the next `box` release.</span></span>
<span>      <span class="fu">shiny.fluent</span><span class="fu">::</span><span class="va"><a href="../reference/fluentSalesDeals.html">fluentSalesDeals</a></span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="va">is_closed</span> <span class="op">|</span> <span class="va">input</span><span class="op">$</span><span class="va">includeOpen</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">datatable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderUI.html" class="external-link">renderUI</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/DetailsList.html">DetailsList</a></span><span class="op">(</span>items <span class="op">=</span> <span class="fu">filtered_deals</span><span class="op">(</span><span class="op">)</span>, columns <span class="op">=</span> <span class="va">columns</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>The <code>Stack</code> element in the code allows for stacking multiple elements vertically or horizontally.</p>
<p>The horizontal argument is set to TRUE to horizontally stack the two elements. The tokens argument is a list that specifies the padding and the gap between the two elements. In this case, the padding is set to 20 and the childrenGap is set to 10. This will add a padding of 20 pixels and a gap of 10 pixels between the other <code>span</code> of the <code>Stack</code> element.</p>
<p>The span element has a class attribute set to <code>ms-depth-8</code>. This is a class provided by the Microsoft fluent UI that adds a shadow effect to the element, giving it a depth effect. The <code>uiOutput</code> element is used to render the <code>DetailsList</code> element that contains the filtered data.</p>
<p>The additional style for the class <code>ms-depth-8</code> is added in the <code>app/style/main.scss</code> file. So it now is modified to -</p>
<pre><code>// app/style/main.scss

.ms-depth-4 {
    display: flex;
    flex-wrap: wrap;
    padding: 5px;
}

.ms-depth-8 {
    height: 500px;
    overflow: overlay;
    width: 50%;
    display: inline-block;
}</code></pre>
<p>The Sass code limits the height of the table to 500 pixels, width to 50% of the screen size and allows scrolling through the data. Similar to the previous usecase, we would again have to repeat the Sass building process with <code>rhino</code> as the file has been updated.</p>
<pre><code><span><span class="co"># in R console</span></span>
<span><span class="fu">rhino</span><span class="fu">::</span><span class="fu">build_sass</span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>So, this is how the UI should look now -</p>
<p><img src="images/rhino_fluent_gif_2.gif"><!-- --> Note that we now we have space beside the table for additional UI component(s).</p>
</div>
<div class="section level2">
<h2 id="create-separate-rhino-modules-for-toggle-input-and-datatable">Create separate <code>rhino</code> modules for toggle input and datatable<a class="anchor" aria-label="anchor" href="#create-separate-rhino-modules-for-toggle-input-and-datatable"></a>
</h2>
<p>Now that we have successfully introduced a datatable and a toggle input in our application, let us further create different Rhino modules for them!</p>
<p>We already have the datatable module with us. We will thus create one more module - <code>app/view/toggle.R</code> and make some modifications in <code>app/view/datatable</code>.</p>
<p>These modules will be called from the main file.</p>
<div class="section level3">
<h3 id="the-appviewtoggle-r-module">The <code>app/view/toggle.R</code> module<a class="anchor" aria-label="anchor" href="#the-appviewtoggle-r-module"></a>
</h3>
<pre><code><span><span class="co"># app/view/toggle.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">dplyr</span><span class="op">[</span><span class="va">filter</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">div</span>, <span class="va">moduleServer</span>, <span class="va">NS</span>, <span class="va">reactive</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">Text</span>, <span class="va">Toggle.shinyInput</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">div</a></span><span class="op">(</span></span>
<span>    class <span class="op">=</span> <span class="st">"ms-depth-4"</span>,</span>
<span>    <span class="fu"><a href="../reference/Toggle.html">Toggle.shinyInput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"includeOpen"</span><span class="op">)</span>, label <span class="op">=</span> <span class="st">"Include open deals"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">filtered_deals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="co"># Datasets are the only case when you need to use :: in `box`.</span></span>
<span>      <span class="co"># This issue should be solved in the next `box` release.</span></span>
<span>      <span class="fu">shiny.fluent</span><span class="fu">::</span><span class="va"><a href="../reference/fluentSalesDeals.html">fluentSalesDeals</a></span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="va">is_closed</span> <span class="op">|</span> <span class="va">input</span><span class="op">$</span><span class="va">includeOpen</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">filtered_deals</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>This module displays a toggle input item on the UI which the user can interact with. The styling remains the same as we discussed in the previous sections.</p>
<p>As the user interacts with the toggle input, the data is filtered in the server. This filtered data is returned to the main module.</p>
</div>
<div class="section level3">
<h3 id="the-modified-appviewdatatable-r-module">The modified <code>app/view/datatable.R</code> module<a class="anchor" aria-label="anchor" href="#the-modified-appviewdatatable-r-module"></a>
</h3>
<p>As the <code>toggle</code> module returns the filtered data, it is used in the <code>datatable</code> module so that the data is displayed on a table accordingly. Hence, our <code>datatable</code> module is modified as shown below -</p>
<pre><code><span><span class="co"># app/view/datatable.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">moduleServer</span>, <span class="va">NS</span>, <span class="va">reactive</span>, <span class="va">renderUI</span>, <span class="va">uiOutput</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">DetailsList</span><span class="op">]</span>,</span>
<span>  <span class="va">tibble</span><span class="op">[</span><span class="va">tibble</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">columns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  fieldName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"rep_name"</span>, <span class="st">"date"</span>, <span class="st">"deal_amount"</span>, <span class="st">"city"</span>, <span class="st">"is_closed"</span><span class="op">)</span>,</span>
<span>  name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Sales Rep"</span>, <span class="st">"Date"</span>, <span class="st">"Deal Amount"</span>, <span class="st">"City"</span>, <span class="st">"Is Closed?"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html" class="external-link">uiOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"datatable"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">datatable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderUI.html" class="external-link">renderUI</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="fu"><a href="../reference/DetailsList.html">DetailsList</a></span><span class="op">(</span>items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="op">)</span>, columns <span class="op">=</span> <span class="va">columns</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>Please notice, that inside the server function, the response obtained from the <code>toggle</code> module earlier is also passed on to be used in displaying the data in a table.</p>
<p>We are not returning any information from this module to the main module as it’s sole purpose is to display given data in a table with desired columns in an easily readable form.</p>
</div>
<div class="section level3">
<h3 id="the-modified-appmain-r-module">The modified <code>app/main.R</code> module<a class="anchor" aria-label="anchor" href="#the-modified-appmain-r-module"></a>
</h3>
<p>Since we modified the modules, <code>app/main.R</code> also has to be modified.</p>
<pre><code><span><span class="co"># app/main.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">moduleServer</span>, <span class="va">NS</span>, <span class="va">span</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">fluentPage</span>, <span class="va">Stack</span>, <span class="va">Text</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">app</span><span class="op">/</span><span class="va">view</span><span class="op">/</span><span class="va">datatable</span>,</span>
<span>  <span class="va">app</span><span class="op">/</span><span class="va">view</span><span class="op">/</span><span class="va">toggle</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/fluentPage.html">fluentPage</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"Sales Data Dashboard"</span>, variant <span class="op">=</span> <span class="st">"xxLarge"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"A randomly generated dataset of imaginary sales deals"</span>, variant <span class="op">=</span> <span class="st">"large"</span><span class="op">)</span>,</span>
<span>    <span class="va">toggle</span><span class="op">$</span><span class="fu">ui</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"toggle"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/Stack.html">Stack</a></span><span class="op">(</span></span>
<span>      horizontal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      tokens <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>padding <span class="op">=</span> <span class="fl">20</span>, childrenGap <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">span</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ms-depth-8"</span>, <span class="va">datatable</span><span class="op">$</span><span class="fu">ui</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"datatable"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">data</span> <span class="op">&lt;-</span><span class="va">toggle</span><span class="op">$</span><span class="fu">server</span><span class="op">(</span><span class="st">"toggle"</span><span class="op">)</span></span>
<span>    <span class="va">datatable</span><span class="op">$</span><span class="fu">server</span><span class="op">(</span><span class="st">"datatable"</span>, <span class="va">data</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>Here we have used the <code>toggle</code> and <code>datatable</code> modules and called them from the code.</p>
</div>
</div>
<div class="section level2">
<h2 id="create-a-rhino-module-to-render-a-bar-chart-with-logic-in-a-helper-function">Create a <code>rhino</code> module to render a bar chart with logic in a helper function<a class="anchor" aria-label="anchor" href="#create-a-rhino-module-to-render-a-bar-chart-with-logic-in-a-helper-function"></a>
</h2>
<p>We will now add a bar chart that plots the summarized amount of deals closed by the sales reps. For this, we will code a helper function and keep it inside the <code>app/logic</code> folder.</p>
<div class="section level3">
<h3 id="define-the-helper-function">Define the helper function<a class="anchor" aria-label="anchor" href="#define-the-helper-function"></a>
</h3>
<p>Go to the <code>app/logic</code> folder and create a new <code>.R</code> file. Lets name it <code>barchart.R</code>. We shall use the <code>gglplot2</code> and <code>plotly</code> packages now (which we installed in the beginning) for this purpose.</p>
<p>Here is the code -</p>
<pre><code><span><span class="co"># app/logic/barchart.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">ggplot2</span><span class="op">[</span><span class="va">aes</span>, <span class="va">element_text</span>, <span class="va">geom_bar</span>, <span class="va">ggplot</span>, <span class="va">labs</span>, <span class="va">theme</span>, <span class="va">theme_light</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">generate_barchart</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">filtered_data</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">filtered_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">rep_name</span>, y <span class="op">=</span> <span class="va">deal_amount</span>, fill <span class="op">=</span> <span class="va">rep_name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Sales Rep Name"</span>, y <span class="op">=</span> <span class="st">"Deal Amount"</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_light</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">60</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>The above code block loads the <code>ggplot2</code> package and generates a barchart with the names of the sales reps on the X axis and the summarized amount of deals on the Y axis.</p>
</div>
<div class="section level3">
<h3 id="create-a-new-rhino-module-and-call-the-helper-function">Create a new <code>rhino</code> module and call the helper function<a class="anchor" aria-label="anchor" href="#create-a-new-rhino-module-and-call-the-helper-function"></a>
</h3>
<p>Now let us create a new file in <code>app/view</code> folder and name it <code>plot.R</code>.</p>
<p>This module, like the <code>app/view/datatable.R</code> module, also obtains the data returned from the <code>toggle</code> module and renders a barchart using the <code>app/logic/barchart.R</code> logic.</p>
<pre><code><span><span class="co"># app/view/plot.R</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">plotly</span><span class="op">[</span><span class="va">plotlyOutput</span>, <span class="va">renderPlotly</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">moduleServer</span>, <span class="va">NS</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">app</span><span class="op">/</span><span class="va">logic</span><span class="op">/</span><span class="va">barchart</span><span class="op">[</span><span class="va">generate_barchart</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plotly-shiny.html" class="external-link">plotlyOutput</a></span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"barchart"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">data</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">output</span><span class="op">$</span><span class="va">barchart</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plotly-shiny.html" class="external-link">renderPlotly</a></span><span class="op">(</span><span class="op">{</span></span>
<span>      <span class="fu">generate_barchart</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>Here, we have called the <code>plotly</code> library, and also the function that we defined in the <code>app/logic</code> folder. <code>plotlyOutput</code> will help us to render the graph.</p>
</div>
<div class="section level3">
<h3 id="modify-the-appmain-r-module">Modify the <code>app/main.R</code> module<a class="anchor" aria-label="anchor" href="#modify-the-appmain-r-module"></a>
</h3>
<p>To view the barchart on the application, we need to use and call it from the main module.</p>
<pre><code><span><span class="co"># app/main.R</span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">shiny</span><span class="op">[</span><span class="va">moduleServer</span>, <span class="va">NS</span>, <span class="va">span</span><span class="op">]</span>,</span>
<span>  <span class="va">shiny.fluent</span><span class="op">[</span><span class="va">fluentPage</span>, <span class="va">Stack</span>, <span class="va">Text</span><span class="op">]</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu">use</span><span class="op">(</span></span>
<span>  <span class="va">app</span><span class="op">/</span><span class="va">view</span><span class="op">/</span><span class="va">datatable</span>,</span>
<span>  <span class="va">app</span><span class="op">/</span><span class="va">view</span><span class="op">/</span><span class="va">toggle</span>,</span>
<span>  <span class="va">app</span><span class="op">/</span><span class="va">view</span><span class="op">/</span><span class="va">plot</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/fluentPage.html">fluentPage</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"Sales Data Dashboard"</span>, variant <span class="op">=</span> <span class="st">"xxLarge"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/Text.html">Text</a></span><span class="op">(</span><span class="st">"A randomly generated dataset of imaginary sales deals"</span>, variant <span class="op">=</span> <span class="st">"large"</span><span class="op">)</span>,</span>
<span>    <span class="va">toggle</span><span class="op">$</span><span class="fu">ui</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"toggle"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="../reference/Stack.html">Stack</a></span><span class="op">(</span></span>
<span>      horizontal <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>      tokens <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>padding <span class="op">=</span> <span class="fl">20</span>, childrenGap <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">span</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ms-depth-8"</span>, <span class="va">datatable</span><span class="op">$</span><span class="fu">ui</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"datatable"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">span</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ms-depth-8"</span>, <span class="va">plot</span><span class="op">$</span><span class="fu">ui</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"plot"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/moduleServer.html" class="external-link">moduleServer</a></span><span class="op">(</span><span class="va">id</span>, <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">data</span> <span class="op">&lt;-</span><span class="va">toggle</span><span class="op">$</span><span class="fu">server</span><span class="op">(</span><span class="st">"toggle"</span><span class="op">)</span></span>
<span>    <span class="va">datatable</span><span class="op">$</span><span class="fu">server</span><span class="op">(</span><span class="st">"datatable"</span>, <span class="va">data</span><span class="op">)</span></span>
<span>    <span class="va">plot</span><span class="op">$</span><span class="fu">server</span><span class="op">(</span><span class="st">"plot"</span>, <span class="va">data</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>The code now uses all the other modules that we just created/modified, creates the cards in the UI using <code>Stack</code> in a <code>fluentPage</code> from the <code>shiny.fluent</code> package, calls the modules accordingly and passes on the relevant information to each other in the server to have a working web application.</p>
<p>Once ready, on running the application, we should see the plotly bar chart rendering successfully and also responding to our interactions with the toggle input button.</p>
<p><img src="images/rhino_fluent_gif_3.gif"><!-- --></p>
</div>
</div>
<div class="section level2">
<h2 id="next-steps-and-suggested-readings">Next Steps and Suggested Readings<a class="anchor" aria-label="anchor" href="#next-steps-and-suggested-readings"></a>
</h2>
<p>By now, we have explored <code>rhino</code> and <code>shiny.fluent</code> packages to an extent, but this is just the beginning. It is strongly recommended for the reader to further explore these packages and build great RShiny applications. Congratulations on coming this far and all the best for the road that lies ahead!</p>
<p>Following are some resources which could be considered for further exploration:</p>
<ul>
<li><a href="https://appsilon.com/rhino-r-package-tutorial/" class="external-link">All about rhino</a></li>
<li><a href="https://appsilon.github.io/shiny.fluent/reference/index.html">Reference for all Shiny.fluent functions</a></li>
<li><a href="https://appsilon.github.io/shiny.fluent/articles/sz-how-to-shiny-modules.html">How to use shiny.fluent with Shiny modules</a></li>
<li><a href="https://appsilon.github.io/shiny.fluent/articles/shiny-fluent.html">Tutorial: Create your first shiny.fluent dashboard</a></li>
<li><a href="https://appsilon.github.io/shiny.fluent/articles/st-sales-reps-dashboard.html">Tutorial: Full dashboard UI in Shiny and Fluent</a></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed with <span class="emoji" data-emoji="heart">❤️</span> by <a href="https://appsilon.com" class="external-link">Appsilon</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
